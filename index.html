<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>


  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

</head>

<body id="initialPage">

  <div class="container pt-5 mt-5">

    <table class="table table-bordered table-dark text-center">
      <thead class="thead-dark">
        <tr>
          <th scope="col" class="">SALAFI MADRASA KEEZHAYIL </th>
        </tr>

      </thead>
      <tbody>
        <tr class="table-warning">
          <th colspan="3">Vallikkunnu North , 673314 </th>
        </tr>
        <tr class="table-info">
          <th colspan="1">KS390 - Affiliated to KNM Education Board, Mujahid Centre, CD Tower, Calicut.</th>
        </tr>
      </tbody>
      <thead class="thead-dark">
        <tr class="table-danger">
          <th colspan="1">FINAL EXAM RESULTS 2022-23</th>
        </tr>
      </thead>
    </table>
  </div>


  <div class="container mt-5 ">
    <div class="" id="content">
      <div class="login-page ">
        <!-- position-absolute top-50 start-50 translate-middle -->
        <div class="form text-center">
          <form class="register-form d-inline mx-auto" action="" onsubmit="return setAction(this)">
            <input type="number" placeholder="Number" id="no" /> <br><br>
            <input type="password" placeholder="password" id="password" /><br><br>
            <input type="submit" value="Submit" class="btn btn-primary">
          </form>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
    crossorigin="anonymous"></script>

  <script>

    function setAction(form) {
      const no = form.no.value;
      const passwDOB = form.password.value;

      const found = data.find(element => element.Number == no);

      if (found) {

        const foundPass = data.find(element => element.DOB == passwDOB);

        if (data.indexOf(found) === data.indexOf(foundPass)) {

          var content = document.getElementById('content');
          content.innerHTML = resultPage;

          const studentArray = Object.entries(found);
          const marksArray = studentArray.slice(4);

          marksArray.forEach(addMark);
          function addMark(array) {
            var markTbody = document.getElementById('markTbody');
            const hiddenT = document.getElementById('hidden');
            const subResult = (
              array[1] > 80 ? '' :
                array[1] >= 24 ? 'PASS' :
                  typeof array[1] === 'string' ? '' : 'FAIL'
            );

            hiddenT.insertAdjacentHTML("beforebegin", `<tr> <td>` + array[0] + `</td> <td>` + array[1] + `</td> <td   ` + (subResult == "PASS" ? `class="bg-success "` : subResult == "FAIL" ? `class="bg-danger"` : null) + `>` + subResult + `</td> </tr>`);

          };

          var table = document.getElementById('result');
          var RegNo = document.getElementById('RegNo');
          var Name = document.getElementById('Name');
          var Class = document.getElementById('Class');

          RegNo.innerHTML = `Reg. No: ` + found.Number;
          Name.innerHTML = `Name : ` + found.Name;
          Class.innerHTML = `Class : ` + found.Class;

          console.log('pass coect');
        };

      }

      return false;
    }



    var data = [
      {
        "Number": 101,
        "Name": "AMAN ABDULLA",
        "DOB": 1242016,
        "Class": 1,
        "Arabic": 78,
        "Balapadam": 80,
        "TOTAL": 158,
        "Status": "PASS"
      },
      {
        "Number": 102,
        "Name": "SHELLAH C",
        "DOB": 2582015,
        "Class": 1,
        "Arabic": 72,
        "Balapadam": 70,
        "TOTAL": 142,
        "Status": "PASS"
      },
      {
        "Number": 201,
        "Name": "ASIL MOIZ",
        "DOB": 222015,
        "Class": 2,
        "Arabic": 71,
        "Quran": 74,
        "Balapadam": 80,
        "TOTAL": 225,
        "Status": "PASS"
      },
      {
        "Number": 202,
        "Name": "HAFFA K",
        "DOB": 512015,
        "Class": 2,
        "Arabic": 77,
        "Quran": 67,
        "Balapadam": 72,
        "TOTAL": 216,
        "Status": "PASS"
      },
      {
        "Number": 203,
        "Name": "KENZA A",
        "DOB": 23122013,
        "Class": 2,
        "Arabic": 76,
        "Quran": 72,
        "Balapadam": 80,
        "TOTAL": 228,
        "Status": "PASS"
      },
      {
        "Number": 204,
        "Name": "RIFA ZAINAB T",
        "DOB": 812015,
        "Class": 2,
        "Arabic": 78,
        "Quran": 68,
        "Balapadam": 74,
        "TOTAL": 220,
        "Status": "PASS"
      },
      {
        "Number": 301,
        "Name": "IHSAN P",
        "DOB": 20102014,
        "Class": 3,
        "Arabic": 58,
        "Karmam": 79,
        "Charithram": 69,
        "Vishwasam": 67,
        "Quran": 50,
        "TOTAL": 323,
        "Status": "PASS"
      },
      {
        "Number": 302,
        "Name": "KENZ",
        "DOB": 522013,
        "Class": 3,
        "Arabic": 62,
        "Karmam": 72,
        "Charithram": 54,
        "Vishwasam": 60,
        "Quran": 52,
        "TOTAL": 300,
        "Status": "PASS"
      },
      {
        "Number": 303,
        "Name": "ZAYAN PK",
        "DOB": 2682013,
        "Class": 3,
        "Arabic": 49,
        "Karmam": 59,
        "Charithram": 39,
        "Vishwasam": 53,
        "Quran": 36,
        "TOTAL": 236,
        "Status": "PASS"
      },
      {
        "Number": 304,
        "Name": "AYSHA RAHMATH",
        "DOB": 532014,
        "Class": 3,
        "Arabic": 74,
        "Karmam": 80,
        "Charithram": 58,
        "Vishwasam": 64,
        "Quran": 68,
        "TOTAL": 344,
        "Status": "PASS"
      },
      {
        "Number": 305,
        "Name": "HIZZA C",
        "DOB": 3182013,
        "Class": 3,
        "Arabic": 76,
        "Karmam": 80,
        "Charithram": 80,
        "Vishwasam": 76,
        "Quran": 68,
        "TOTAL": 380,
        "Status": "PASS"
      },
      {
        "Number": 306,
        "Name": "KENZA C",
        "DOB": 2782013,
        "Class": 3,
        "Arabic": 72,
        "Karmam": 80,
        "Charithram": 73,
        "Vishwasam": 74,
        "Quran": 64,
        "TOTAL": 363,
        "Status": "PASS"
      },
      {
        "Number": 307,
        "Name": "RINSHA FATHIMA",
        "DOB": 2072014,
        "Class": 3,
        "Arabic": 65,
        "Karmam": 79,
        "Charithram": 61,
        "Vishwasam": 71,
        "Quran": 56,
        "TOTAL": 332,
        "Status": "PASS"
      },
      {
        "Number": 401,
        "Name": "AMANA TP",
        "DOB": 382012,
        "Class": 4,
        "Arabic": 65,
        "Karmam": 49,
        "Charithram": 45,
        "Vishwasam": 64,
        "Quran": 47,
        "TOTAL": 270,
        "Status": "PASS"
      },
      {
        "Number": 402,
        "Name": "HISMA K",
        "DOB": 922013,
        "Class": 4,
        "Arabic": 63,
        "Karmam": 46,
        "Charithram": 68,
        "Vishwasam": 70,
        "Quran": 56,
        "TOTAL": 303,
        "Status": "PASS"
      },
      {
        "Number": 601,
        "Name": "BASIM PK",
        "DOB": 30112009,
        "Class": 6,
        "Arabic": 36,
        "Karmam": 52,
        "Charithram": 49,
        "Vishwasam": 44,
        "Quran": 43,
        "TOTAL": 224,
        "Status": "PASS"
      },
      {
        "Number": 602,
        "Name": "HISHAN C",
        "DOB": 672009,
        "Class": 6,
        "Arabic": 33,
        "Karmam": 69,
        "Charithram": 64,
        "Vishwasam": 56,
        "Quran": 37,
        "TOTAL": 259,
        "Status": "PASS"
      },
      {
        "Number": 603,
        "Name": "FILZA FAZIL",
        "DOB": 10122010,
        "Class": 6,
        "Arabic": 67,
        "Karmam": 62,
        "Charithram": 66,
        "Vishwasam": 75,
        "Quran": 66,
        "TOTAL": 336,
        "Status": "PASS"
      },
      {
        "Number": 604,
        "Name": "ISHMA C",
        "DOB": 1312011,
        "Class": 6,
        "Arabic": 49,
        "Karmam": 54,
        "Charithram": 41,
        "Vishwasam": 54,
        "Quran": 52,
        "TOTAL": 250,
        "Status": "PASS"
      },
      {
        "Number": 801,
        "Name": "AMIN VISAM",
        "DOB": 1882009,
        "Class": 8,
        "Arabic": 33,
        "Charithram": 21,
        "Vishwasam": 60,
        "Quran": 61,
        "Hadees": 48,
        "TOTAL": 223,
        "Status": "FAIL"
      },
      {
        "Number": 802,
        "Name": "MEHNA K",
        "DOB": 342009,
        "Class": 8,
        "Arabic": 57,
        "Charithram": 66,
        "Vishwasam": 72,
        "Quran": 73,
        "Hadees": 60,
        "TOTAL": 328,
        "Status": "PASS"
      },
      // {
      //   "Number": 901,
      //   "Name": "ALOOF ABDULLA",
      //   "DOB": 6112008,
      //   "Class": 9,
      //   "TOTAL": 0
      // },
      // {
      //   "Number": 902,
      //   "Name": "ANOOF IBNU HANEEF",
      //   "DOB": 1172008,
      //   "Class": 9,
      //   "TOTAL": 0
      // },
      // {
      //   "Number": 903,
      //   "Name": "HASWOOR HANEEFA K",
      //   "DOB": 9102008,
      //   "Class": 9,
      //   "TOTAL": 0
      // },
      // {
      //   "Number": 904,
      //   "Name": "MUNAWER TP",
      //   "DOB": 2542008,
      //   "Class": 9,
      //   "TOTAL": 0
      // }
    ];


    const loginPage = `<div class="login-page position-absolute top-50 start-50 translate-middle">
        <div class="form">
          <form class="register-form" action="" onsubmit="return setAction(this)">
            <input type="number" placeholder="Number" id="no" /> <br><br>
            <input type="password" placeholder="password" id="password" /><br><br>
            <input type="submit" value="Submit">
          </form>
        </div>
      </div>`

    const resultPage = `<table class="table table-bordered table-dark" id="result">
        <thead class="thead-dark">
          <tr>
            <th scope="col" id="RegNo"></th>
            <th scope="col" id="Name"></th>
            <th scope="col" id="Class"></th>
          </tr>
          <tr class="table-light">
            <th colspan="3"></th>
          </tr>
          <tr class="table-info">
            <th colspan="1">Subject</th>
            <th colspan="1">Marks</th>
            <th colspan="1">Result</th>
          </tr>
        </thead>
        <tbody id="markTbody">
          <tr id="hidden" hidden >
          </tr>
        </tbody>
      </table>
      
      <button type="button" class="btn btn-warning" id="resetPageBtn" onClick="window.location.reload();">Check Another</button>
      `


  </script>
</body>
<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha512-n6dYFOG599s4/mGlA6E+YLgtg9uPTOMDUb0IprSMDYVLr0ctiRryPEQ8gpM4DCMlx7M2G3CK+ZcaoOoJolzdCg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->

</html>
